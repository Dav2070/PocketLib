<div class="container ms-motion-slideUpIn">
	<div class="row mt-5" *ngIf="!showMobileLayout">
		<div class="col-4 mt-2 d-flex">
			<div class="mx-auto">
				<!-- Cover -->
				<img [src]="coverContent" class="shadow" style="height: 270px; object-fit: cover;" />

				<!-- Author profile image and name -->
				<div class="d-flex mt-3">
					<img [src]="authorProfileImageContent" class="rounded-circle shadow-sm cursor" style="width: 30px; height: 30px" (click)="NavigateToAuthor()" />
					<p class="font-weight-light my-auto cursor text-color" style="font-size: 18px; margin-left: 13px" (click)="NavigateToAuthor()">{{ author.firstName }} {{ author.lastName }}</p>
				</div>

				<!-- Add to library button -->
				<div class="mt-3" style="min-width: 194px">
					<fab-primary-button
						(onClick)="AddToLibrary()"
						[disabled]="addToLibraryButtonDisabled">
						{{ locale.addToLibrary }}
					</fab-primary-button>
				</div>

				<!-- Status and Publish button (only for admins) -->
				<div *ngIf="dataService.userIsAdmin && book.status != 2">
					<p class="mt-3 mb-2">{{ bookStatus }}</p>

					<fab-primary-button
						*ngIf="book.status == 1"
						(onClick)="PublishStoreBook()">
						{{ locale.publish }}
					</fab-primary-button>
				</div>
			</div>
		</div>
	
		<!-- Title and back button -->
		<div class="col-8">
			<div class="d-flex">
				<h2 class="mx-auto text-center font-weight-light ml-3 text-color">
					<button
						type="button" 
						class="btn mr-2 text-color theme-background-color-primary theme-border-color-primary icon-button" 
						style="height: 35px; width: 40px; padding: 2px 0px 0px 0px; margin-top: -6px"
						(click)="GoBack()">
						<fab-icon iconName="Back" [styles]="backButtonIconStyles"></fab-icon>
					</button>
					{{ book.title }}
				</h2>
			</div>

			<!-- Description -->
			<p class="mt-2 text-color" style="white-space: pre-wrap">{{ book.description }}</p>
		</div>
	</div>

	<div class="mt-3" *ngIf="showMobileLayout">
		<!-- Title and back button -->
		<div class="d-flex mb-2">
			<h2 class="mx-auto text-center font-weight-light text-color">
				<button
					type="button" 
					class="btn mr-2 text-color theme-background-color-primary theme-border-color-primary icon-button" 
					style="height: 35px; width: 40px; padding: 2px 0px 0px 0px; margin-top: -6px"
					(click)="GoBack()">
					<fab-icon iconName="Back" [styles]="backButtonIconStyles"></fab-icon>
				</button>
				{{ book.title }}
			</h2>
		</div>

		<div class="d-flex">
			<div class="mx-auto">
				<!-- Cover -->
				<img [src]="coverContent" class="shadow" style="height: 270px; object-fit: cover;" />

				<!-- Author profile image and name -->
				<div class="d-flex mt-3">
					<img [src]="authorProfileImageContent" class="rounded-circle shadow-sm cursor" style="width: 30px; height: 30px" (click)="NavigateToAuthor()" />
					<p class="font-weight-light my-auto cursor text-color" style="font-size: 18px; margin-left: 13px" (click)="NavigateToAuthor()">{{ author.firstName }} {{ author.lastName }}</p>
				</div>

				<!-- Add to library button -->
				<div class="mt-3" style="min-width: 194px">
					<fab-primary-button
						(onClick)="AddToLibrary()"
						[disabled]="addToLibraryButtonDisabled">
						{{ locale.addToLibrary }}
					</fab-primary-button>
				</div>

				<!-- Status and Publish button (only for admins) -->
				<div *ngIf="dataService.userIsAdmin && book.status != 2">
					<p class="mt-3 mb-2">{{ bookStatus }}</p>

					<fab-primary-button
						*ngIf="book.status == 1"
						(onClick)="PublishStoreBook()">
						{{ locale.publish }}
					</fab-primary-button>
				</div>
			</div>
		</div>

		<p class="mt-4 text-color" style="white-space: pre-wrap">{{ book.description }}</p>
	</div>
</div>

<fab-dialog
	[hidden]="!davPlusRequiredDialogVisible"
	[dialogContentProps]="davPlusRequiredDialogContentProps"
	(onDismiss)="davPlusRequiredDialogVisible = false">

	<p>
		{{ locale.davProRequiredDialog.description }}
	</p>

	<fab-dialog-footer>
		<fab-default-button (click)="davPlusRequiredDialogVisible = false">{{ locale.davProRequiredDialog.back }}</fab-default-button>
		<fab-primary-button [styles]="dialogPrimaryButtonStyles" (onClick)="NavigateToAccountPage()">{{ locale.davProRequiredDialog.learnMore }}</fab-primary-button>
	</fab-dialog-footer>
</fab-dialog>