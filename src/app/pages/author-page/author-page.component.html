<pocketlib-author-profile
	*ngIf="dataService.userAuthor || (dataService.userIsAdmin && uuid)"
	[uuid]="uuid"
></pocketlib-author-profile>

<!-- Normal layout for Admin view -->
<div
	class="container text-center slide-up-in"
	*ngIf="dataService.userIsAdmin && !uuid && !dualScreenLayout"
>
	<!-- List of publishers -->
	<div class="mt-3 mb-4">
		<dav-header
			size="small"
			addButtonVisible
			(addButtonClick)="ShowCreatePublisherDialog()"
		>
			{{ locale.yourPublishers }}
		</dav-header>
	</div>

	<div class="list-group" style="display: inline-block">
		<p
			class="list-group-item cursor theme-background-color-secondary text-color"
			style="font-size: 18px"
			(click)="ShowPublisher(publisher.uuid)"
			*ngFor="let publisher of dataService.adminPublishers"
		>
			{{ publisher.name }}
		</p>
	</div>

	<!-- List of authors -->
	<div class="mt-3 mb-4">
		<dav-header
			size="small"
			addButtonVisible
			(addButtonClick)="ShowCreateAuthorDialog()"
		>
			{{ locale.yourAuthors }}
		</dav-header>
	</div>

	<div class="list-group" style="display: inline-block">
		<p
			class="list-group-item cursor theme-background-color-secondary text-color"
			style="font-size: 18px"
			(click)="ShowAuthor(author.uuid)"
			*ngFor="let author of dataService.adminAuthors"
		>
			{{ author.firstName }} {{ author.lastName }}
		</p>
	</div>

	<!-- List of books in review -->
	<div class="mt-5 mb-4">
		<dav-header size="small">
			{{ locale.booksInReview }}
		</dav-header>
	</div>

	<div class="list-group" style="display: inline-block">
		<p
			class="list-group-item cursor theme-background-color-secondary text-color"
			style="font-size: 18px"
			(click)="ShowBook(book.uuid)"
			*ngFor="let book of booksInReview"
		>
			{{ book.title }}
		</p>
	</div>
</div>

<!-- Dual-Screen layout for Admin view -->
<div
	class="d-flex flex-row slide-up-in"
	*ngIf="dataService.userIsAdmin && !uuid && dualScreenLayout"
>
	<!-- Left screen -->
	<div class="w-50 text-center" [style.marginRight.px]="dualScreenFoldMargin">
		<!-- List of publishers -->
		<div class="mt-3 mb-4">
			<dav-header
				size="small"
				addButtonVisible
				(addButtonClick)="ShowCreatePublisherDialog()"
			>
				{{ locale.yourPublishers }}
			</dav-header>
		</div>

		<div class="list-group" style="display: inline-block">
			<p
				class="list-group-item cursor theme-background-color-secondary text-color"
				style="font-size: 18px"
				(click)="ShowPublisher(publisher.uuid)"
				*ngFor="let publisher of dataService.adminPublishers"
			>
				{{ publisher.name }}
			</p>
		</div>

		<!-- List of authors -->
		<div class="mt-3 mb-4">
			<dav-header
				size="small"
				addButtonVisible
				(addButtonClick)="ShowCreateAuthorDialog()"
			>
				{{ locale.yourAuthors }}
			</dav-header>
		</div>

		<div class="list-group" style="display: inline-block">
			<p
				class="list-group-item cursor theme-background-color-secondary text-color"
				style="font-size: 18px"
				(click)="ShowAuthor(author.uuid)"
				*ngFor="let author of dataService.adminAuthors"
			>
				{{ author.firstName }} {{ author.lastName }}
			</p>
		</div>
	</div>

	<!-- Right screen -->
	<div class="w-50 text-center" [style.marginLeft.px]="dualScreenFoldMargin">
		<!-- List of books in review -->
		<div class="mt-3 mb-4">
			<dav-header size="small">
				{{ locale.booksInReview }}
			</dav-header>
		</div>

		<div class="list-group" style="display: inline-block">
			<p
				class="list-group-item cursor theme-background-color-secondary text-color"
				style="font-size: 18px"
				(click)="ShowBook(book.uuid)"
				*ngFor="let book of booksInReview"
			>
				{{ book.title }}
			</p>
		</div>
	</div>
</div>

<dav-dialog
	[header]="locale.createPublisherDialog.header"
	[primaryButtonText]="locale.create"
	[defaultButtonText]="locale.cancel"
	[visible]="createPublisherDialogVisible"
	[loading]="createPublisherDialogLoading"
	maxWidth="340"
	(dismiss)="createPublisherDialogVisible = false"
	(primaryButtonClick)="CreatePublisher()"
	(defaultButtonClick)="createPublisherDialogVisible = false"
>
	<form>
		<!-- Name -->
		<div class="mb-3">
			<dav-textfield
				[value]="createPublisherDialogName"
				[label]="locale.createPublisherDialog.nameTextfieldLabel"
				[placeholder]="
					locale.createPublisherDialog.nameTextfieldPlaceholder
				"
				[disabled]="createPublisherDialogLoading"
				[errorMessage]="createPublisherDialogNameError"
				(change)="
					createPublisherDialogName = $event.detail.value;
					createPublisherDialogNameError = ''
				"
				(enter)="CreatePublisher()"
			></dav-textfield>
		</div>
	</form>
</dav-dialog>

<dav-dialog
	[header]="locale.createAuthorDialog.header"
	[primaryButtonText]="locale.create"
	[defaultButtonText]="locale.cancel"
	[visible]="createAuthorDialogVisible"
	[loading]="createAuthorDialogLoading"
	maxWidth="340"
	(dismiss)="createAuthorDialogVisible = false"
	(primaryButtonClick)="CreateAuthor()"
	(defaultButtonClick)="createAuthorDialogVisible = false"
>
	<form>
		<!-- First name -->
		<div class="mb-3">
			<dav-textfield
				[value]="createAuthorDialogFirstName"
				[label]="locale.createAuthorDialog.firstNameTextfieldLabel"
				[placeholder]="
					locale.createAuthorDialog.firstNameTextfieldPlaceholder
				"
				autocomplete="given-name"
				[disabled]="createAuthorDialogLoading"
				[errorMessage]="createAuthorDialogFirstNameError"
				(change)="
					createAuthorDialogFirstName = $event.detail.value;
					createAuthorDialogFirstNameError = ''
				"
			></dav-textfield>
		</div>

		<!-- Last name -->
		<div class="mb-3">
			<dav-textfield
				[value]="createAuthorDialogLastName"
				[label]="locale.createAuthorDialog.lastNameTextfieldLabel"
				[placeholder]="
					locale.createAuthorDialog.lastNameTextfieldPlaceholder
				"
				autocomplete="family-name"
				[disabled]="createAuthorDialogLoading"
				[errorMessage]="createAuthorDialogLastNameError"
				(change)="
					createAuthorDialogLastName = $event.detail.value;
					createAuthorDialogLastNameError = ''
				"
				(enter)="CreateAuthor()"
			></dav-textfield>
		</div>
	</form>
</dav-dialog>
