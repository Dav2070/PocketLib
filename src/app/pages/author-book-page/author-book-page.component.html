<div class="container ms-motion-slideUpIn">
	<div class="d-flex justify-content-center">
		<div class="d-flex my-3">
			<button type="button" 
						class="btn mt-2 text-color theme-background-color-primary theme-border-color-primary icon-button" 
						style="height: 35px; width: 40px; padding: 2px 0px 0px 0px;"
						(click)="GoBack()">
				<fab-icon iconName="Back" [styles]="backButtonIconStyles"></fab-icon>
			</button>
			<h2 class="text-left font-weight-light mt-2 ml-3 text-color">{{ book.title }}</h2>

			<button type="button" 
					class="btn ml-3 my-auto text-color theme-background-color-primary theme-border-color-primary icon-button" 
					style="height: 35px; padding: 3px 6px; font-size: 18px" 
					(click)="ShowEditTitleModal()">
				<fab-icon iconName="Edit"></fab-icon>
			</button>
		</div>
	</div>

	<div class="mt-3 d-flex">
		<p class="mr-3 font-weight-light" style="font-size: 19px">{{ locale.cover }}: </p>

		<div>
			<p class="font-weight-light font-italic" style="margin-top: 3px" *ngIf="!coverContent">{{ locale.noCover }}</p>
			<div class="mb-3" *ngIf="coverContent">
				<img [src]="coverContent" />
			</div>

			<fab-primary-button 
				ngxFilePicker
				accept="image/png,image/jpeg"
				(filePick)="CoverUpload($event)">
				{{ locale.uploadCover }}
			</fab-primary-button>
		</div>
	</div>

	<div class="mt-3 d-flex">
		<p class="mr-3 font-weight-light" style="font-size: 19px">{{ locale.description }}: </p>

		<div style="width: 80%">
			<p style="margin-top: 3px" *ngIf="book.description && !editDescription">{{ book.description }}</p>
			<p class="font-weight-light font-italic" style="margin-top: 3px" *ngIf="!book.description && !editDescription">{{ locale.noDescription }}</p>

			<fab-text-field 
				[styles]="descriptionTextfieldStyles"
				[(value)]="newDescription"
				[placeholder]="locale.descriptionTextfieldPlaceholder"
				[errorMessage]="newDescriptionError"
				multiline="true"
				autoAdjustHeight="true"
				*ngIf="editDescription">
			</fab-text-field>
			
			<fab-primary-button (click)="EditDescription()">{{ editDescription ? locale.save : locale.edit }}</fab-primary-button>
			<fab-default-button [styles]="dialogPrimaryButtonStyles" (click)="editDescription = false" *ngIf="editDescription">{{ locale.cancel }}</fab-default-button>
		</div>
	</div>

	<div class="mt-3 d-flex">
		<p class="mr-3 font-weight-light" style="font-size: 19px">{{ locale.language }}: </p>

		<div>
			<fab-dropdown [selectedKey]="languageSelectedKey" (onChange)="SetLanguage($event)">
				<options>
					<fab-dropdown-option optionKey="en" [text]="locale.languages.en"></fab-dropdown-option>
					<fab-dropdown-option optionKey="de" [text]="locale.languages.de"></fab-dropdown-option>
				</options>
			</fab-dropdown>
		</div>
	</div>
</div>

<fab-dialog
	[hidden]="!editTitleDialogVisible"
	[dialogContentProps]="editTitleDialogContentProps"
	(onDismiss)="editTitleDialogVisible = false">

	<!-- Title -->
	<div class="mb-4">
		<fab-text-field 
			[(value)]="editTitleDialogTitle"
			[label]="locale.editTitleDialog.titleTextfieldLabel"
			[placeholder]="locale.editTitleDialog.titleTextfieldPlaceholder"
			[errorMessage]="editTitleDialogTitleError">
		</fab-text-field>
	</div>

	<fab-dialog-footer>
		<fab-default-button (click)="editTitleDialogVisible = false">{{ locale.cancel }}</fab-default-button>
		<fab-primary-button [styles]="dialogPrimaryButtonStyles" (click)="UpdateTitle()">{{ locale.save }}</fab-primary-button>
	</fab-dialog-footer>
</fab-dialog>