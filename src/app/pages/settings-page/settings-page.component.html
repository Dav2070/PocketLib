<!-- Normal layout -->
<div
	class="container d-flex flex-column ms-motion-slideUpIn"
	[style.paddingBottom.px]="dataService.bottomToolbarVisible ? 56 : 0"
	*ngIf="!dualScreenLayout">

   <h1 class="text-center fw-light mt-3 text-color">{{ locale.title }}</h1>
   
   <div class="mx-auto mt-4" style="max-width: 240px">
      <!-- Open last read book -->
		<p class="text-color fw-light" style="font-size: 16px">{{ locale.openLastReadBook }}</p>

		<dav-toggle
			[checked]="openLastReadBook"
			(change)="onOpenLastReadBookToggleChange($event.detail.checked)">
		</dav-toggle>
   </div>

   <div class="mx-auto mt-4" style="max-width: 170px">
		<!-- Theme -->
		<p class="text-color" style="font-size: 20px">{{ locale.theme }}</p>
		
		<mat-radio-group
			class="d-flex flex-column text-color" 
			[color]="dataService.darkTheme ? 'accent' : 'primary'" 
			[value]="selectedTheme" 
			(change)="onThemeRadioButtonSelected($event)">

			<mat-radio-button [value]="themeKeys[0]">
				{{ locale.lightTheme }}
			</mat-radio-button>
			<mat-radio-button [value]="themeKeys[1]">
				{{ locale.darkTheme }}
			</mat-radio-button>
			<mat-radio-button [value]="themeKeys[2]">
				{{ locale.systemTheme }}
			</mat-radio-button>
		</mat-radio-group>
   </div>

	<div class="mx-auto">
		<!-- App information -->
		<div class="mt-5 text-color">
			<p>
				<a href="https://blog.dav-apps.tech/tag/pocketlib" target="blank" class="text-secondary">{{ locale.news }}</a><br>
				<a href="https://github.com/dav-apps/PocketLib" target="blank" class="text-secondary">{{ locale.github }}</a><br>
				<a href="https://dav-apps.tech/privacy" target="blank" class="text-secondary">{{ locale.privacy }}</a><br>
			</p>
			<p>
				Version {{ version }}<br>
				Copyright &copy; {{ year }} by dav
			</p>

			<div class="d-flex" *ngIf="searchForUpdates">
				<dav-progress-ring
					style="width: 16px; height: 16px">
				</dav-progress-ring>

				<p class="mb-0" style="line-height: 20px; margin-left: 0.75rem">{{ updateMessage }}</p>
			</div>

			<div class="d-flex align-items-center" [ngClass]="hideNoUpdateAvailable ? 'ms-motion-slideDownOut' : ''" *ngIf="noUpdateAvailable">
				<fa-icon [icon]="faCheck"></fa-icon>
				<p class="mb-0" style="margin-left: 0.75rem">{{ locale.noUpdateAvailable }}</p>
			</div>

			<div *ngIf="updateError">
				<p class="mb-0">{{ locale.updateError }}</p>
			</div>

			<dav-button
				type="accent"
				(click)="ActivateUpdate()"
				*ngIf="dataService.updateInstalled">
				{{ locale.activateUpdate }}
			</dav-button>
		</div>
	</div>
</div>

<!-- Dual-Screen layout -->
<div
	class="d-flex flex-row ms-motion-slideUpIn"
	*ngIf="dualScreenLayout">

	<!-- Left screen -->
	<div
		class="w-50 d-flex flex-column"
		[style.marginRight.px]="dualScreenFoldMargin">

		<h1 class="text-center fw-light mt-3 text-color">{{ locale.title }}</h1>

		<div class="mx-auto mt-4 pb-2" style="max-width: 240px">
			<!-- Open last read book -->
			<p class="text-color fw-light" style="font-size: 16px">{{ locale.openLastReadBook }}</p>
			
			<dav-toggle
				[checked]="openLastReadBook"
				(change)="onOpenLastReadBookToggleChange($event.detail.checked)">
			</dav-toggle>
		</div>

		<div class="mx-auto mt-4" style="max-width: 170px">
			<!-- Theme -->
			<p class="text-color" style="font-size: 20px">{{ locale.theme }}</p>
			
			<mat-radio-group
				class="d-flex flex-column text-color" 
				[color]="dataService.darkTheme ? 'accent' : 'primary'" 
				[value]="selectedTheme" 
				(change)="onThemeRadioButtonSelected($event)">
	
				<mat-radio-button [value]="themeKeys[0]">
					{{ locale.lightTheme }}
				</mat-radio-button>
				<mat-radio-button [value]="themeKeys[1]">
					{{ locale.darkTheme }}
				</mat-radio-button>
				<mat-radio-button [value]="themeKeys[2]">
					{{ locale.systemTheme }}
				</mat-radio-button>
			</mat-radio-group>
		</div>

		<div class="mx-auto">
			<!-- App information -->
			<div class="mt-5 text-color">
				<p>
					<a href="https://blog.dav-apps.tech/tag/pocketlib" target="blank" class="text-secondary">{{ locale.news }}</a><br>
					<a href="https://github.com/dav-apps/PocketLib" target="blank" class="text-secondary">{{ locale.github }}</a><br>
					<a href="https://dav-apps.tech/privacy" target="blank" class="text-secondary">{{ locale.privacy }}</a><br>
				</p>
				<p>
					Version {{ version }}<br>
					Copyright &copy; {{ year }} by dav
				</p>

				<div class="d-flex" *ngIf="searchForUpdates">
					<dav-progress-ring
						style="width: 16px; height: 16px">
					</dav-progress-ring>

					<p class="mb-0" style="line-height: 20px; margin-left: 0.75rem">{{ updateMessage }}</p>
				</div>

				<div class="d-flex align-items-center" [ngClass]="hideNoUpdateAvailable ? 'ms-motion-slideDownOut' : ''" *ngIf="noUpdateAvailable">
					<fa-icon [icon]="faCheck"></fa-icon>
					<p class="mb-0" style="margin-left: 0.75rem">{{ locale.noUpdateAvailable }}</p>
				</div>

				<div *ngIf="updateError">
					<p class="mb-0">{{ locale.updateError }}</p>
				</div>

				<dav-button
					type="accent"
					(click)="ActivateUpdate()"
					*ngIf="dataService.updateInstalled">
					{{ locale.activateUpdate  }}
				</dav-button>
			</div>
		</div>
	</div>
</div>