<div class="container slide-up-in">
	<div class="search-field-container">
		<div class="search-input-container">
			<input
				#searchInput
				class="search-input"
				[value]="query"
				type="search"
				[placeholder]="locale.searchInputPlaceholder"
				(input)="searchQueryChange()"
			/>

			<div class="search-icon-container">
				<fa-icon [icon]="faMagnifyingGlass"></fa-icon>
			</div>
		</div>
	</div>

	@if (isLoading) {
	<div class="progress-ring-container">
		<dav-progress-ring size="32"></dav-progress-ring>
	</div>
	} @else if (query.length == 0) {
	<div class="previous-searches-container">
		@for (searchQuery of searchQueries; track searchQuery) {
		<a
			class="previous-search-card"
			routerLink="/search"
			[queryParams]="{ query: searchQuery, page: 1 }"
			(click)="searchQueryClick($event, searchQuery)"
		>
			<p>{{ searchQuery }}</p>

			<dav-icon-button size="xs">
				<fa-icon [icon]="faXmark"></fa-icon>
			</dav-icon-button>
		</a>
		}
	</div>
	}

	<div class="list-container">
		<dav-list>
			@for (book of books; track book.uuid) {
			<dav-list-item
				[imageSrc]="book.coverUrl"
				[imageFallbackSrc]="dataService.defaultStoreBookCover"
				[headline]="book.title"
				[subhead]="book.author"
				size="lg"
				[href]="book.href"
				(click)="bookItemClick($event, book)"
			></dav-list-item>
			}
		</dav-list>
	</div>

	@if (pages > 1 && !isLoading) {
	<div class="pagination-container">
		<dav-pagination
			[pages]="pages"
			[currentPage]="page"
			(pageChange)="pageChange($event)"
		></dav-pagination>
	</div>
	}
</div>
